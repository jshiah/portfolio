import{S as x,q as S,v as T,w as v,x as B,y as b,z as O,U as l,g as w,A as K,B as L,i as M,C as U,D,b as q,E as z,F as C}from"./runtime.XZfsyD6e.js";function _(n,a=null,o){if(typeof n!="object"||n===null||x in n)return n;const u=M(n);if(u!==S&&u!==T)return n;var s=new Map,g=U(n),I=v(0);g&&s.set("length",v(n.length));var y;return new Proxy(n,{defineProperty(f,e,t){(!("value"in t)||t.configurable===!1||t.enumerable===!1||t.writable===!1)&&B();var r=s.get(e);return r===void 0?(r=v(t.value),s.set(e,r)):b(r,_(t.value,y)),!0},deleteProperty(f,e){var t=s.get(e);if(t===void 0)e in f&&s.set(e,v(l));else{if(g&&typeof e=="string"){var r=s.get("length"),i=Number(e);Number.isInteger(i)&&i<r.v&&b(r,i)}b(t,l),A(I)}return!0},get(f,e,t){var c;if(e===x)return n;var r=s.get(e),i=e in f;if(r===void 0&&(!i||(c=O(f,e))!=null&&c.writable)&&(r=v(_(i?f[e]:l,y)),s.set(e,r)),r!==void 0){var d=w(r);return d===l?void 0:d}return Reflect.get(f,e,t)},getOwnPropertyDescriptor(f,e){var t=Reflect.getOwnPropertyDescriptor(f,e);if(t&&"value"in t){var r=s.get(e);r&&(t.value=w(r))}else if(t===void 0){var i=s.get(e),d=i==null?void 0:i.v;if(i!==void 0&&d!==l)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return t},has(f,e){var d;if(e===x)return!0;var t=s.get(e),r=t!==void 0&&t.v!==l||Reflect.has(f,e);if(t!==void 0||K!==null&&(!r||(d=O(f,e))!=null&&d.writable)){t===void 0&&(t=v(r?_(f[e],y):l),s.set(e,t));var i=w(t);if(i===l)return!1}return r},set(f,e,t,r){var j;var i=s.get(e),d=e in f;if(g&&e==="length")for(var c=t;c<i.v;c+=1){var P=s.get(c+"");P!==void 0?b(P,l):c in f&&(P=v(l),s.set(c+"",P))}i===void 0?(!d||(j=O(f,e))!=null&&j.writable)&&(i=v(void 0),b(i,_(t,y)),s.set(e,i)):(d=i.v!==l,b(i,_(t,y)));var h=Reflect.getOwnPropertyDescriptor(f,e);if(h!=null&&h.set&&h.set.call(r,t),!d){if(g&&typeof e=="string"){var R=s.get("length"),N=Number(e);Number.isInteger(N)&&N>=R.v&&b(R,N+1)}A(I)}return!0},ownKeys(f){w(I);var e=Reflect.ownKeys(f).filter(i=>{var d=s.get(i);return d===void 0||d.v!==l});for(var[t,r]of s)r.v!==l&&!(t in f)&&e.push(t);return e},setPrototypeOf(){L()}})}function A(n,a=1){b(n,n.v+a)}function E(n){return n!==null&&typeof n=="object"&&x in n?n[x]:n}function Z(n,a){return Object.is(E(n),E(a))}function F(n,a,o){if(n==null)return a(void 0),D;const u=q(()=>n.subscribe(a,o));return u.unsubscribe?()=>u.unsubscribe():u}let m=!1;function k(n,a,o){const u=o[a]??(o[a]={store:null,source:C(void 0),unsubscribe:D});if(u.store!==n)if(u.unsubscribe(),u.store=n??null,n==null)u.source.v=void 0,u.unsubscribe=D;else{var s=!0;u.unsubscribe=F(n,g=>{s?u.source.v=g:b(u.source,g)}),s=!1}return w(u.source)}function G(){const n={};return z(()=>{for(var a in n)n[a].unsubscribe()}),n}function H(n){var a=m;try{return m=!1,[n(),m]}finally{m=a}}export{k as a,H as c,Z as i,_ as p,G as s};
